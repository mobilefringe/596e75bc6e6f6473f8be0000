

<style>
    .inside_page_content {
    width: 100%;
    display: block;
    margin-left: 0px !important;
    margin-right: 0;
    margin-top: 32px;
}
b, strong {
    font-weight: bold;
    color: green;
}

td {
    padding-top: 10px;
    padding-right: 40px;
}
.inside_page_content {
    width: 100%;
    display: block;
    margin-left: 0px !important;
    margin-right: 0;
    margin-bottom: 40px;
    margin-top: 32px;
}
@media only screen and (max-width: 767px)
{
.left_column {
    max-width: 700px;
    padding-right: 0px;
    display: inline-block;
    border-right: none;
    padding-bottom:25px;
}
}
</style>
<div class="full_page_photo" style="background-image: url(http://assets.codecloudapp.com/sites/55887c646e6f642257020000/ea9da7d59c727438ad1cde0521046697/banner_hours.png);">
    <div class="container">
          <!-- <section class="call_to_action">
               <h3 class="animated bounceInDown skincolored">we design <strong>value</strong> into profit</h3>
               <br>
               <h4 class="animated bounceInUp">our <strong>customers</strong> are always <strong>happy</strong>!</h4>
          </section> -->
    </div>
</div>
<div class="main">
    <div class="container">
        <section class="hgroup centered">
            <h1>Hours</h1>
            <!-- <h2>This is a <b>hgroup.centered</b> In hac habitasse platea dictumst. Donec aliquet tellus enim, a tincidunt nulla.</h2> -->
            <ul class="breadcrumb pull-right">
                <li><a href="/home">Home</a> </li>
                <li class="active">Hours</li>
            </ul>
        </section>
        <div class="inside_page_content">
            <div class="left_column">
                <h4>Regular Shopping Centre Hours</h4>
                <table id="reg_hours_container" class="reg_hours_container">
                    <script id="reg_hours_template" type="x-tmpl-mustache/text">
                        <tr>
                            <td class="hours_left">
                               <strong> {{day}}</strong>
                            </td>   
                            <td class="hours_right">
                                {{h}}
                            </td>
                        </tr>
                    </script>
                </table>
            </div>
            <div class="right_column">
                <h4>Holiday Shopping Centre Hours</h4>
                <table id="holiday_hours_container" class="holiday_hours_container">
                    <script id="holiday_hours_template" type="x-tmpl-mustache/text">
                        <tr>
                            <td class="hours_left">
                                <strong>{{holiday_name}}</strong><br>
                            </td>
                        </tr>
                        <tr>
                            <td class="hours_left" >
                                {{h}}
                            </td>
                        </tr>
                    </script>
                </table>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function() {
        function renderAll (){
            var propertyDetails = getPropertyDetails();
            renderPageData('#centre_info_container','#centre_info_template', propertyDetails, 'property_details')
            var hours = getPropertyRegularHours();
            renderPageData('#reg_hours_container', '#reg_hours_template', hours, 'reg_hours');
            var holiday_hours = getPropertyRegularHours();
            renderPageData('#holiday_hours_container', '#holiday_hours_template', holiday_hours, 'holiday_hours')
            $("#loading_screen").hide();
            $("#main_content").show();
        }
        
        function renderPageData(container, template, collection, type){
            var item_list = [];
            var item_rendered = [];
            var template_html = $(template).html();
            Mustache.parse(template_html);   // optional, speeds up future uses
            if (type == "property_details"){
                item_list.push(collection);
                collection = []
                collection = item_list;
            }
            if (type == "reg_hours") {
                $.each( collection , function( key, val ) {
                    if (!val.store_id && val.is_holiday == false) {
                        switch(val.day_of_week) {
                        case 0:
                            val.day = "Sunday"
                            break;
                        case 1:
                            val.day = "Monday"
                            break;
                        case 2:
                            val.day = "Tuesday"
                            break;
                        case 3:
                            val.day = "Wednesday"
                            break;
                        case 4:
                            val.day = "Thursday"
                            break;
                        case 5:
                            val.day = "Friday"
                            break;
                        case 6:
                            val.day = "Saturday"
                            break;
                    }
                    if (val.open_time && val.close_time && val.is_closed == false){
                        var open_time = moment(val.open_time).tz(getPropertyTimeZone());
                        var close_time = moment(val.close_time).tz(getPropertyTimeZone());
                        val.h = open_time.format("h:mma") + " - " + close_time.format("h:mma");
                    } else {
                        "Closed"
                    }
                        item_list.push(val)
                    }
                });
                collection = []
                collection = item_list;
            }
            if (type == "holiday_hours") {
                $.each( collection , function( key, val ) {
                    if (!val.store_id && val.is_holiday == true) {
                        holiday = moment(val.holiday_date).tz(getPropertyTimeZone());
                        var weekdays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
                        val.formatted_date = holiday.format("dddd MMM D YYYY");
                        if (val.open_time && val.close_time && val.is_closed == false){
                            var open_time = moment(val.open_time).tz(getPropertyTimeZone());
                            var close_time = moment(val.close_time).tz(getPropertyTimeZone());
                            val.h = open_time.format("h a") + " - " + close_time.format("h a");
                        } else {
                            val.h = "Closed";
                        }
                        item_list.push(val);
                    }
                });
                collection = [];
                collection = item_list;
            }
            $.each( collection , function( key, val ) {
                var rendered = Mustache.render(template_html,val);
                item_rendered.push(rendered);
    
            });
            
            $(container).show();
            $(container).html(item_rendered.join(''));
        };

        loadMallData(renderAll);  
    });
</script>